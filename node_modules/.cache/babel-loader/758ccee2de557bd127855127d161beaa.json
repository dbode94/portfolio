{"ast":null,"code":"import _asyncToGenerator from \"E:/Dev/Projects/In Progress/portfolio-backup/myportfolio/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"E:/Dev/Projects/In Progress/portfolio-backup/myportfolio/portfolio/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"E:/Dev/Projects/In Progress/portfolio-backup/myportfolio/portfolio/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"E:\\\\Dev\\\\Projects\\\\In Progress\\\\portfolio-backup\\\\myportfolio\\\\portfolio\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\n\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n\nvar _ImageDrawer_images;\n\nimport { downloadSvgImage, loadImage, replaceImageColor } from \"./Utils\";\nexport var ImageDrawer = /*#__PURE__*/function () {\n  function ImageDrawer() {\n    _classCallCheck(this, ImageDrawer);\n\n    _ImageDrawer_images.set(this, void 0);\n\n    __classPrivateFieldSet(this, _ImageDrawer_images, [], \"f\");\n  }\n\n  _createClass(ImageDrawer, [{\n    key: \"getSidesCount\",\n    value: function getSidesCount() {\n      return 12;\n    }\n  }, {\n    key: \"getImages\",\n    value: function getImages(container) {\n      var containerImages = __classPrivateFieldGet(this, _ImageDrawer_images, \"f\").find(function (t) {\n        return t.id === container.id;\n      });\n\n      if (!containerImages) {\n        __classPrivateFieldGet(this, _ImageDrawer_images, \"f\").push({\n          id: container.id,\n          images: []\n        });\n\n        return this.getImages(container);\n      } else {\n        return containerImages;\n      }\n    }\n  }, {\n    key: \"addImage\",\n    value: function addImage(container, image) {\n      var containerImages = this.getImages(container);\n      containerImages === null || containerImages === void 0 ? void 0 : containerImages.images.push(image);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      __classPrivateFieldSet(this, _ImageDrawer_images, [], \"f\");\n    }\n  }, {\n    key: \"loadImageShape\",\n    value: function () {\n      var _loadImageShape = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(container, imageShape) {\n        var source, image, imageFunc;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                source = imageShape.src;\n\n                if (source) {\n                  _context.next = 3;\n                  break;\n                }\n\n                throw new Error(\"Error tsParticles - No image.src\");\n\n              case 3:\n                _context.prev = 3;\n                image = {\n                  source: source,\n                  type: source.substr(source.length - 3),\n                  error: false,\n                  loading: true\n                };\n                this.addImage(container, image);\n                imageFunc = imageShape.replaceColor ? downloadSvgImage : loadImage;\n                _context.next = 9;\n                return imageFunc(image);\n\n              case 9:\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](3);\n                throw new Error(\"tsParticles error - \".concat(imageShape.src, \" not found\"));\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 11]]);\n      }));\n\n      function loadImageShape(_x, _x2) {\n        return _loadImageShape.apply(this, arguments);\n      }\n\n      return loadImageShape;\n    }()\n  }, {\n    key: \"draw\",\n    value: function draw(context, particle, radius, opacity) {\n      var _a, _b;\n\n      var image = particle.image;\n      var element = (_a = image === null || image === void 0 ? void 0 : image.data) === null || _a === void 0 ? void 0 : _a.element;\n\n      if (!element) {\n        return;\n      }\n\n      var ratio = (_b = image === null || image === void 0 ? void 0 : image.ratio) !== null && _b !== void 0 ? _b : 1;\n      var pos = {\n        x: -radius,\n        y: -radius\n      };\n\n      if (!(image === null || image === void 0 ? void 0 : image.data.svgData) || !(image === null || image === void 0 ? void 0 : image.replaceColor)) {\n        context.globalAlpha = opacity;\n      }\n\n      context.drawImage(element, pos.x, pos.y, radius * 2, radius * 2 / ratio);\n\n      if (!(image === null || image === void 0 ? void 0 : image.data.svgData) || !(image === null || image === void 0 ? void 0 : image.replaceColor)) {\n        context.globalAlpha = 1;\n      }\n    }\n  }, {\n    key: \"loadShape\",\n    value: function loadShape(particle) {\n      var _this = this;\n\n      var _a, _b, _c;\n\n      if (particle.shape !== \"image\" && particle.shape !== \"images\") {\n        return;\n      }\n\n      var images = this.getImages(particle.container).images;\n      var imageData = particle.shapeData;\n      var image = images.find(function (t) {\n        return t.source === imageData.src;\n      });\n      var imageRes;\n\n      if (!image) {\n        this.loadImageShape(particle.container, imageData).then(function () {\n          _this.loadShape(particle);\n        });\n        return;\n      }\n\n      if (image.error) {\n        return;\n      }\n\n      var color = particle.getFillColor();\n\n      if (image.svgData && imageData.replaceColor && color) {\n        imageRes = replaceImageColor(image, imageData, color, particle);\n      } else {\n        imageRes = {\n          data: image,\n          loaded: true,\n          ratio: imageData.width / imageData.height,\n          replaceColor: (_a = imageData.replaceColor) !== null && _a !== void 0 ? _a : imageData.replace_color,\n          source: imageData.src\n        };\n      }\n\n      if (!imageRes.ratio) {\n        imageRes.ratio = 1;\n      }\n\n      var fill = (_b = imageData.fill) !== null && _b !== void 0 ? _b : particle.fill;\n      var close = (_c = imageData.close) !== null && _c !== void 0 ? _c : particle.close;\n      var imageShape = {\n        image: imageRes,\n        fill: fill,\n        close: close\n      };\n      particle.image = imageShape.image;\n      particle.fill = imageShape.fill;\n      particle.close = imageShape.close;\n    }\n  }]);\n\n  return ImageDrawer;\n}();\n_ImageDrawer_images = new WeakMap();","map":{"version":3,"sources":["E:/Dev/Projects/In Progress/portfolio-backup/myportfolio/portfolio/node_modules/tsparticles/esm/Shapes/Image/ImageDrawer.js"],"names":["__classPrivateFieldSet","receiver","state","value","kind","f","TypeError","has","call","set","__classPrivateFieldGet","get","_ImageDrawer_images","downloadSvgImage","loadImage","replaceImageColor","ImageDrawer","container","containerImages","find","t","id","push","images","getImages","image","imageShape","source","src","Error","type","substr","length","error","loading","addImage","imageFunc","replaceColor","context","particle","radius","opacity","_a","_b","element","data","ratio","pos","x","y","svgData","globalAlpha","drawImage","_c","shape","imageData","shapeData","imageRes","loadImageShape","then","loadShape","color","getFillColor","loaded","width","height","replace_color","fill","close","WeakMap"],"mappings":";;;;;AAAA,IAAIA,sBAAsB,GAAI,QAAQ,KAAKA,sBAAd,IAAyC,UAAUC,QAAV,EAAoBC,KAApB,EAA2BC,KAA3B,EAAkCC,IAAlC,EAAwCC,CAAxC,EAA2C;AAC7G,MAAID,IAAI,KAAK,GAAb,EAAkB,MAAM,IAAIE,SAAJ,CAAc,gCAAd,CAAN;AAClB,MAAIF,IAAI,KAAK,GAAT,IAAgB,CAACC,CAArB,EAAwB,MAAM,IAAIC,SAAJ,CAAc,+CAAd,CAAN;AACxB,MAAI,OAAOJ,KAAP,KAAiB,UAAjB,GAA8BD,QAAQ,KAAKC,KAAb,IAAsB,CAACG,CAArD,GAAyD,CAACH,KAAK,CAACK,GAAN,CAAUN,QAAV,CAA9D,EAAmF,MAAM,IAAIK,SAAJ,CAAc,yEAAd,CAAN;AACnF,SAAQF,IAAI,KAAK,GAAT,GAAeC,CAAC,CAACG,IAAF,CAAOP,QAAP,EAAiBE,KAAjB,CAAf,GAAyCE,CAAC,GAAGA,CAAC,CAACF,KAAF,GAAUA,KAAb,GAAqBD,KAAK,CAACO,GAAN,CAAUR,QAAV,EAAoBE,KAApB,CAAhE,EAA6FA,KAApG;AACH,CALD;;AAMA,IAAIO,sBAAsB,GAAI,QAAQ,KAAKA,sBAAd,IAAyC,UAAUT,QAAV,EAAoBC,KAApB,EAA2BE,IAA3B,EAAiCC,CAAjC,EAAoC;AACtG,MAAID,IAAI,KAAK,GAAT,IAAgB,CAACC,CAArB,EAAwB,MAAM,IAAIC,SAAJ,CAAc,+CAAd,CAAN;AACxB,MAAI,OAAOJ,KAAP,KAAiB,UAAjB,GAA8BD,QAAQ,KAAKC,KAAb,IAAsB,CAACG,CAArD,GAAyD,CAACH,KAAK,CAACK,GAAN,CAAUN,QAAV,CAA9D,EAAmF,MAAM,IAAIK,SAAJ,CAAc,0EAAd,CAAN;AACnF,SAAOF,IAAI,KAAK,GAAT,GAAeC,CAAf,GAAmBD,IAAI,KAAK,GAAT,GAAeC,CAAC,CAACG,IAAF,CAAOP,QAAP,CAAf,GAAkCI,CAAC,GAAGA,CAAC,CAACF,KAAL,GAAaD,KAAK,CAACS,GAAN,CAAUV,QAAV,CAA1E;AACH,CAJD;;AAKA,IAAIW,mBAAJ;;AACA,SAASC,gBAAT,EAA2BC,SAA3B,EAAsCC,iBAAtC,QAA+D,SAA/D;AACA,WAAaC,WAAb;AACI,yBAAc;AAAA;;AACVJ,IAAAA,mBAAmB,CAACH,GAApB,CAAwB,IAAxB,EAA8B,KAAK,CAAnC;;AACAT,IAAAA,sBAAsB,CAAC,IAAD,EAAOY,mBAAP,EAA4B,EAA5B,EAAgC,GAAhC,CAAtB;AACH;;AAJL;AAAA;AAAA,WAKI,yBAAgB;AACZ,aAAO,EAAP;AACH;AAPL;AAAA;AAAA,WAQI,mBAAUK,SAAV,EAAqB;AACjB,UAAMC,eAAe,GAAGR,sBAAsB,CAAC,IAAD,EAAOE,mBAAP,EAA4B,GAA5B,CAAtB,CAAuDO,IAAvD,CAA4D,UAACC,CAAD;AAAA,eAAOA,CAAC,CAACC,EAAF,KAASJ,SAAS,CAACI,EAA1B;AAAA,OAA5D,CAAxB;;AACA,UAAI,CAACH,eAAL,EAAsB;AAClBR,QAAAA,sBAAsB,CAAC,IAAD,EAAOE,mBAAP,EAA4B,GAA5B,CAAtB,CAAuDU,IAAvD,CAA4D;AACxDD,UAAAA,EAAE,EAAEJ,SAAS,CAACI,EAD0C;AAExDE,UAAAA,MAAM,EAAE;AAFgD,SAA5D;;AAIA,eAAO,KAAKC,SAAL,CAAeP,SAAf,CAAP;AACH,OAND,MAOK;AACD,eAAOC,eAAP;AACH;AACJ;AApBL;AAAA;AAAA,WAqBI,kBAASD,SAAT,EAAoBQ,KAApB,EAA2B;AACvB,UAAMP,eAAe,GAAG,KAAKM,SAAL,CAAeP,SAAf,CAAxB;AACAC,MAAAA,eAAe,KAAK,IAApB,IAA4BA,eAAe,KAAK,KAAK,CAArD,GAAyD,KAAK,CAA9D,GAAkEA,eAAe,CAACK,MAAhB,CAAuBD,IAAvB,CAA4BG,KAA5B,CAAlE;AACH;AAxBL;AAAA;AAAA,WAyBI,mBAAU;AACNzB,MAAAA,sBAAsB,CAAC,IAAD,EAAOY,mBAAP,EAA4B,EAA5B,EAAgC,GAAhC,CAAtB;AACH;AA3BL;AAAA;AAAA;AAAA,qFA4BI,iBAAqBK,SAArB,EAAgCS,UAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AACUC,gBAAAA,MADV,GACmBD,UAAU,CAACE,GAD9B;;AAAA,oBAESD,MAFT;AAAA;AAAA;AAAA;;AAAA,sBAGc,IAAIE,KAAJ,CAAU,kCAAV,CAHd;;AAAA;AAAA;AAMcJ,gBAAAA,KANd,GAMsB;AACVE,kBAAAA,MAAM,EAAEA,MADE;AAEVG,kBAAAA,IAAI,EAAEH,MAAM,CAACI,MAAP,CAAcJ,MAAM,CAACK,MAAP,GAAgB,CAA9B,CAFI;AAGVC,kBAAAA,KAAK,EAAE,KAHG;AAIVC,kBAAAA,OAAO,EAAE;AAJC,iBANtB;AAYQ,qBAAKC,QAAL,CAAclB,SAAd,EAAyBQ,KAAzB;AACMW,gBAAAA,SAbd,GAa0BV,UAAU,CAACW,YAAX,GAA0BxB,gBAA1B,GAA6CC,SAbvE;AAAA;AAAA,uBAccsB,SAAS,CAACX,KAAD,CAdvB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,sBAiBc,IAAII,KAAJ,+BAAiCH,UAAU,CAACE,GAA5C,gBAjBd;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OA5BJ;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,WAgDI,cAAKU,OAAL,EAAcC,QAAd,EAAwBC,MAAxB,EAAgCC,OAAhC,EAAyC;AACrC,UAAIC,EAAJ,EAAQC,EAAR;;AACA,UAAMlB,KAAK,GAAGc,QAAQ,CAACd,KAAvB;AACA,UAAMmB,OAAO,GAAG,CAACF,EAAE,GAAGjB,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACoB,IAA1D,MAAoE,IAApE,IAA4EH,EAAE,KAAK,KAAK,CAAxF,GAA4F,KAAK,CAAjG,GAAqGA,EAAE,CAACE,OAAxH;;AACA,UAAI,CAACA,OAAL,EAAc;AACV;AACH;;AACD,UAAME,KAAK,GAAG,CAACH,EAAE,GAAGlB,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACqB,KAA1D,MAAqE,IAArE,IAA6EH,EAAE,KAAK,KAAK,CAAzF,GAA6FA,EAA7F,GAAkG,CAAhH;AACA,UAAMI,GAAG,GAAG;AACRC,QAAAA,CAAC,EAAE,CAACR,MADI;AAERS,QAAAA,CAAC,EAAE,CAACT;AAFI,OAAZ;;AAIA,UAAI,EAAEf,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACoB,IAAN,CAAWK,OAA3D,KAAuE,EAAEzB,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACY,YAAtD,CAA3E,EAAgJ;AAC5IC,QAAAA,OAAO,CAACa,WAAR,GAAsBV,OAAtB;AACH;;AACDH,MAAAA,OAAO,CAACc,SAAR,CAAkBR,OAAlB,EAA2BG,GAAG,CAACC,CAA/B,EAAkCD,GAAG,CAACE,CAAtC,EAAyCT,MAAM,GAAG,CAAlD,EAAsDA,MAAM,GAAG,CAAV,GAAeM,KAApE;;AACA,UAAI,EAAErB,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACoB,IAAN,CAAWK,OAA3D,KAAuE,EAAEzB,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACY,YAAtD,CAA3E,EAAgJ;AAC5IC,QAAAA,OAAO,CAACa,WAAR,GAAsB,CAAtB;AACH;AACJ;AAnEL;AAAA;AAAA,WAoEI,mBAAUZ,QAAV,EAAoB;AAAA;;AAChB,UAAIG,EAAJ,EAAQC,EAAR,EAAYU,EAAZ;;AACA,UAAId,QAAQ,CAACe,KAAT,KAAmB,OAAnB,IAA8Bf,QAAQ,CAACe,KAAT,KAAmB,QAArD,EAA+D;AAC3D;AACH;;AACD,UAAM/B,MAAM,GAAG,KAAKC,SAAL,CAAee,QAAQ,CAACtB,SAAxB,EAAmCM,MAAlD;AACA,UAAMgC,SAAS,GAAGhB,QAAQ,CAACiB,SAA3B;AACA,UAAM/B,KAAK,GAAGF,MAAM,CAACJ,IAAP,CAAY,UAACC,CAAD;AAAA,eAAOA,CAAC,CAACO,MAAF,KAAa4B,SAAS,CAAC3B,GAA9B;AAAA,OAAZ,CAAd;AACA,UAAI6B,QAAJ;;AACA,UAAI,CAAChC,KAAL,EAAY;AACR,aAAKiC,cAAL,CAAoBnB,QAAQ,CAACtB,SAA7B,EAAwCsC,SAAxC,EAAmDI,IAAnD,CAAwD,YAAM;AAC1D,UAAA,KAAI,CAACC,SAAL,CAAerB,QAAf;AACH,SAFD;AAGA;AACH;;AACD,UAAId,KAAK,CAACQ,KAAV,EAAiB;AACb;AACH;;AACD,UAAM4B,KAAK,GAAGtB,QAAQ,CAACuB,YAAT,EAAd;;AACA,UAAIrC,KAAK,CAACyB,OAAN,IAAiBK,SAAS,CAAClB,YAA3B,IAA2CwB,KAA/C,EAAsD;AAClDJ,QAAAA,QAAQ,GAAG1C,iBAAiB,CAACU,KAAD,EAAQ8B,SAAR,EAAmBM,KAAnB,EAA0BtB,QAA1B,CAA5B;AACH,OAFD,MAGK;AACDkB,QAAAA,QAAQ,GAAG;AACPZ,UAAAA,IAAI,EAAEpB,KADC;AAEPsC,UAAAA,MAAM,EAAE,IAFD;AAGPjB,UAAAA,KAAK,EAAES,SAAS,CAACS,KAAV,GAAkBT,SAAS,CAACU,MAH5B;AAIP5B,UAAAA,YAAY,EAAE,CAACK,EAAE,GAAGa,SAAS,CAAClB,YAAhB,MAAkC,IAAlC,IAA0CK,EAAE,KAAK,KAAK,CAAtD,GAA0DA,EAA1D,GAA+Da,SAAS,CAACW,aAJhF;AAKPvC,UAAAA,MAAM,EAAE4B,SAAS,CAAC3B;AALX,SAAX;AAOH;;AACD,UAAI,CAAC6B,QAAQ,CAACX,KAAd,EAAqB;AACjBW,QAAAA,QAAQ,CAACX,KAAT,GAAiB,CAAjB;AACH;;AACD,UAAMqB,IAAI,GAAG,CAACxB,EAAE,GAAGY,SAAS,CAACY,IAAhB,MAA0B,IAA1B,IAAkCxB,EAAE,KAAK,KAAK,CAA9C,GAAkDA,EAAlD,GAAuDJ,QAAQ,CAAC4B,IAA7E;AACA,UAAMC,KAAK,GAAG,CAACf,EAAE,GAAGE,SAAS,CAACa,KAAhB,MAA2B,IAA3B,IAAmCf,EAAE,KAAK,KAAK,CAA/C,GAAmDA,EAAnD,GAAwDd,QAAQ,CAAC6B,KAA/E;AACA,UAAM1C,UAAU,GAAG;AACfD,QAAAA,KAAK,EAAEgC,QADQ;AAEfU,QAAAA,IAAI,EAAJA,IAFe;AAGfC,QAAAA,KAAK,EAALA;AAHe,OAAnB;AAKA7B,MAAAA,QAAQ,CAACd,KAAT,GAAiBC,UAAU,CAACD,KAA5B;AACAc,MAAAA,QAAQ,CAAC4B,IAAT,GAAgBzC,UAAU,CAACyC,IAA3B;AACA5B,MAAAA,QAAQ,CAAC6B,KAAT,GAAiB1C,UAAU,CAAC0C,KAA5B;AACH;AAhHL;;AAAA;AAAA;AAkHAxD,mBAAmB,GAAG,IAAIyD,OAAJ,EAAtB","sourcesContent":["var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ImageDrawer_images;\nimport { downloadSvgImage, loadImage, replaceImageColor } from \"./Utils\";\nexport class ImageDrawer {\n    constructor() {\n        _ImageDrawer_images.set(this, void 0);\n        __classPrivateFieldSet(this, _ImageDrawer_images, [], \"f\");\n    }\n    getSidesCount() {\n        return 12;\n    }\n    getImages(container) {\n        const containerImages = __classPrivateFieldGet(this, _ImageDrawer_images, \"f\").find((t) => t.id === container.id);\n        if (!containerImages) {\n            __classPrivateFieldGet(this, _ImageDrawer_images, \"f\").push({\n                id: container.id,\n                images: [],\n            });\n            return this.getImages(container);\n        }\n        else {\n            return containerImages;\n        }\n    }\n    addImage(container, image) {\n        const containerImages = this.getImages(container);\n        containerImages === null || containerImages === void 0 ? void 0 : containerImages.images.push(image);\n    }\n    destroy() {\n        __classPrivateFieldSet(this, _ImageDrawer_images, [], \"f\");\n    }\n    async loadImageShape(container, imageShape) {\n        const source = imageShape.src;\n        if (!source) {\n            throw new Error(\"Error tsParticles - No image.src\");\n        }\n        try {\n            const image = {\n                source: source,\n                type: source.substr(source.length - 3),\n                error: false,\n                loading: true,\n            };\n            this.addImage(container, image);\n            const imageFunc = imageShape.replaceColor ? downloadSvgImage : loadImage;\n            await imageFunc(image);\n        }\n        catch (_a) {\n            throw new Error(`tsParticles error - ${imageShape.src} not found`);\n        }\n    }\n    draw(context, particle, radius, opacity) {\n        var _a, _b;\n        const image = particle.image;\n        const element = (_a = image === null || image === void 0 ? void 0 : image.data) === null || _a === void 0 ? void 0 : _a.element;\n        if (!element) {\n            return;\n        }\n        const ratio = (_b = image === null || image === void 0 ? void 0 : image.ratio) !== null && _b !== void 0 ? _b : 1;\n        const pos = {\n            x: -radius,\n            y: -radius,\n        };\n        if (!(image === null || image === void 0 ? void 0 : image.data.svgData) || !(image === null || image === void 0 ? void 0 : image.replaceColor)) {\n            context.globalAlpha = opacity;\n        }\n        context.drawImage(element, pos.x, pos.y, radius * 2, (radius * 2) / ratio);\n        if (!(image === null || image === void 0 ? void 0 : image.data.svgData) || !(image === null || image === void 0 ? void 0 : image.replaceColor)) {\n            context.globalAlpha = 1;\n        }\n    }\n    loadShape(particle) {\n        var _a, _b, _c;\n        if (particle.shape !== \"image\" && particle.shape !== \"images\") {\n            return;\n        }\n        const images = this.getImages(particle.container).images;\n        const imageData = particle.shapeData;\n        const image = images.find((t) => t.source === imageData.src);\n        let imageRes;\n        if (!image) {\n            this.loadImageShape(particle.container, imageData).then(() => {\n                this.loadShape(particle);\n            });\n            return;\n        }\n        if (image.error) {\n            return;\n        }\n        const color = particle.getFillColor();\n        if (image.svgData && imageData.replaceColor && color) {\n            imageRes = replaceImageColor(image, imageData, color, particle);\n        }\n        else {\n            imageRes = {\n                data: image,\n                loaded: true,\n                ratio: imageData.width / imageData.height,\n                replaceColor: (_a = imageData.replaceColor) !== null && _a !== void 0 ? _a : imageData.replace_color,\n                source: imageData.src,\n            };\n        }\n        if (!imageRes.ratio) {\n            imageRes.ratio = 1;\n        }\n        const fill = (_b = imageData.fill) !== null && _b !== void 0 ? _b : particle.fill;\n        const close = (_c = imageData.close) !== null && _c !== void 0 ? _c : particle.close;\n        const imageShape = {\n            image: imageRes,\n            fill,\n            close,\n        };\n        particle.image = imageShape.image;\n        particle.fill = imageShape.fill;\n        particle.close = imageShape.close;\n    }\n}\n_ImageDrawer_images = new WeakMap();\n"]},"metadata":{},"sourceType":"module"}